" File: _vimrc
" Author: blueyiniu@qq.com
" Description: blueyi's Personal vim configure file for Windows and Linux.
" Since: 2009-10-xx
" =============================================================================
"        éœ€è¦æ‰‹åŠ¨è¿›è¡Œçš„æ“ä½œ
" =============================================================================
" æ¨èä½¿ç”¨è¿™ä¸ªç¼–è¯‘ç‰ˆæœ¬https://tuxproject.de/projects/vim/ï¼Œè¿™ä¸ªç‰ˆæœ¬å¯¹luaç­‰æ”¯æŒéƒ½æœ‰ï¼Œæˆ–è€…å®˜æ–¹ç‰ˆæœ¬ï¼Œå®˜ç½‘ç‰ˆæœ¬æš‚æ—¶å‘ç°ä¸æ”¯æŒluaï¼Œå¾ˆå¤šæ’ä»¶éœ€è¦vim
" å¯¹luaçš„æ”¯æŒï¼Œä¾‹å¦‚neocomplete
" è¯¥é…ç½®æ–‡ä»¶åœ¨ï¼šhttps://github.com/blueyi/my-utils/blob/master/config/_vimrc
"
" 1.å»ºç«‹è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶å¤¹"~/.vimbak"ï¼Œä¸ç®¡æ˜¯winè¿˜æ˜¯linuxéƒ½åˆ›å»ºåœ¨ä¸ªäººç”¨æˆ·ä¸‹ã€‚vimè‡ªåŠ¨
" ç”Ÿæˆçš„åç¼€ä¸º"~"å’Œ"un~"çš„å¤‡ä»½æ–‡ä»¶å’Œundoæ–‡ä»¶ã€swapæ–‡ä»¶ã€tagsæ–‡ä»¶ç­‰å°†ç»Ÿä¸€å­˜æ”¾åœ¨è¯¥æ–‡ä»¶å¤¹
"
" 2.æ‰‹åŠ¨åˆ›å»ºvimæ’ä»¶ç®¡ç†å™¨vundleçš„æ–‡ä»¶å¤¹å¹¶clone vundleæ’ä»¶åˆ°è¯¥æ–‡ä»¶å¤¹:
" linuxä¸‹æ‰§è¡Œä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š
"   1."mkdir -p ~/.vim/bundle/Vundle.vim"
"   2."git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim"
"   å°†.vimrcæ”¾åœ¨ç”¨æˆ·æ ¹ç›®å½•ä¸‹å³å¯
"
" winä¸‹ä½¿ç”¨cmdæ‰§è¡Œä»¥ä¸‹ä¸¤æ¡å‘½ä»¤(é»˜è®¤cmdè·¯å¾„åœ¨å½“å‰ç”¨æˆ·æ–‡ä»¶å¤¹)ï¼š
"   1."md vimfiles\bundle\Vundle.vim"
"   2."git clone https://github.com/VundleVim/Vundle.vim.git vimfiles\bundle\Vundle.vim"
"   å°†_vimrcæ”¾åœ¨ç”¨æˆ·æ ¹ç›®å½•ä¸‹ï¼Œæˆ–è€…æ”¾åœ¨vimå®‰è£…æ–‡ä»¶å¤¹åŒç›®å½•ï¼Œå¹¶æœç´¢ä¿®æ”¹ä¸‹é¢vundleé…ç½®ä¸­çš„rtp
"   å’Œpathå°†ç›¸åº”å†…å®¹æ³¨é‡Šæ‰
"
"   å¦‚æœæƒ³è®©æ’ä»¶å’Œvimåœ¨åŒä¸€æ–‡ä»¶å¤¹ï¼Œåªéœ€è¦å°†vimfilesæ–‡ä»¶å¤¹ä¸vimæ–‡ä»¶å¤„äºåŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹
"   å¹¶å°†_vimrcæ”¾åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼ˆæœ¬vimrcä¸­çš„vundleé»˜è®¤é‡‡ç”¨è¿™ç§æ–¹å¼ï¼‰
"
" 3.æ‰“å¼€vimï¼Œæ‰‹åŠ¨æ‰§è¡Œ":PluginInstall"ï¼Œå³å¯è‡ªåŠ¨å®‰è£…vundleç®¡ç†çš„æ’ä»¶
"
" Youcompleteme: install.py --clang-completer --msvc 12
" ä¸€äº›éœ€è¦æ³¨æ„çš„é»˜è®¤è®¾ç½®ï¼š
" 1.C++ç¨‹åºç¼–è¯‘æ—¶éƒ½é»˜è®¤åŠ -gå‚æ•°ï¼Œæ–¹ä¾¿gdbè°ƒè¯•
" 2.ä¸ç®¡æºä»£ç æ˜¯å¦è¢«ä¿®æ”¹ï¼ŒF10éƒ½ä¼šé‡æ–°ç¼–è¯‘æºæ–‡ä»¶ï¼Œä»¥é˜²æ­¢å¤´æ–‡ä»¶ä¿®æ”¹åè€Œæºä»£ç æ²¡æœ‰ä¿®æ”¹å¯¼è‡´ä¸ç¼–è¯‘çš„æƒ…å†µ
"
"å‚è€ƒhttps://github.com/mhinz/vim-galore
"
" =============================================================================
"        << åˆ¤æ–­æ“ä½œç³»ç»Ÿæ˜¯ Windows è¿˜æ˜¯ Linux å’Œåˆ¤æ–­æ˜¯ç»ˆç«¯è¿˜æ˜¯ Gvim >>
" =============================================================================

" -----------------------------------------------------------------------------
"  < åˆ¤æ–­æ“ä½œç³»ç»Ÿæ˜¯å¦æ˜¯ Windows è¿˜æ˜¯ Linux >
" -----------------------------------------------------------------------------
let g:iswindows = 0
let g:islinux = 0
if(has("win32") || has("win64") || has("win95") || has("win16"))
    let g:iswindows = 1
else
    let g:islinux = 1
endif

" -----------------------------------------------------------------------------
"  < åˆ¤æ–­æ˜¯ç»ˆç«¯è¿˜æ˜¯ Gvim >
" -----------------------------------------------------------------------------
if has("gui_running")
    let g:isGUI = 1
else
    let g:isGUI = 0
endif


" =============================================================================
"                          << ä»¥ä¸‹ä¸ºè½¯ä»¶é»˜è®¤é…ç½® >>
" =============================================================================

" -----------------------------------------------------------------------------
"  < Windows Gvim é»˜è®¤é…ç½®> åšäº†ä¸€ç‚¹ä¿®æ”¹
" -----------------------------------------------------------------------------
if (g:iswindows && g:isGUI)
    source $VIMRUNTIME/vimrc_example.vim
    "    source $VIMRUNTIME/mswin.vim
    "   behave mswin
    set diffexpr=MyDiff()

    set guifont=DejaVu_Sans_Mono:h12

    function! MyDiff()
        let opt = '-a --binary '
        if &diffopt =~ 'icase' | let opt = opt . '-i ' | endif
        if &diffopt =~ 'iwhite' | let opt = opt . '-b ' | endif
        let arg1 = v:fname_in
        if arg1 =~ ' ' | let arg1 = '"' . arg1 . '"' | endif
        let arg2 = v:fname_new
        if arg2 =~ ' ' | let arg2 = '"' . arg2 . '"' | endif
        let arg3 = v:fname_out
        if arg3 =~ ' ' | let arg3 = '"' . arg3 . '"' | endif
        let eq = ''
        if $VIMRUNTIME =~ ' '
            if &sh =~ '\<cmd'
                let cmd = '""' . $VIMRUNTIME . '\diff"'
                let eq = '"'
            else
                let cmd = substitute($VIMRUNTIME, ' ', '" ', '') . '\diff"'
            endif
        else
            let cmd = $VIMRUNTIME . '\diff'
        endif
        silent execute '!' . cmd . ' ' . opt . arg1 . ' ' . arg2 . ' > ' . arg3 . eq
    endfunction
endif

" -----------------------------------------------------------------------------
"  < Linux Gvim/Vim é»˜è®¤é…ç½®> åšäº†ä¸€ç‚¹ä¿®æ”¹
" -----------------------------------------------------------------------------
if g:islinux

    if g:isGUI
        " Source a global configuration file if available
        if filereadable("/etc/vim/gvimrc.local")
            source /etc/vim/gvimrc.local
        endif
    else
        " This line should not be removed as it ensures that various options are
        " properly set to work with the Vim-related packages available in Debian.
        runtime! debian.vim

        " Source a global configuration file if available
        if filereadable("/etc/vim/vimrc.local")
            source /etc/vim/vimrc.local
        endif
    endif
endif


" =============================================================================
"                          << ä»¥ä¸‹ä¸ºç”¨æˆ·è‡ªå®šä¹‰é…ç½® >>
" =============================================================================

" -----------------------------------------------------------------------------
"  < Vundle æ’ä»¶ç®¡ç†å·¥å…·é…ç½® >
" -----------------------------------------------------------------------------
" ç”¨äºæ›´æ–¹ä¾¿çš„ç®¡ç†vimæ’ä»¶ï¼Œå…·ä½“ç”¨æ³•å‚è€ƒ :h vundle å¸®åŠ©
" å®‰è£…æ–¹æ³•ä¸ºåœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤
" git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim

set nocompatible                                      "ç¦ç”¨ Vi å…¼å®¹æ¨¡å¼
filetype off                                          "ç¦ç”¨æ–‡ä»¶ç±»å‹ä¾¦æµ‹

if g:islinux
    set rtp+=~/.vim/bundle/Vundle.vim
    call vundle#begin()
else
    "vimfilesæ–‡ä»¶å¤¹ä¸vimå¤„äºåŒä¸€æ–‡ä»¶å¤¹
    set rtp+=$VIM/vimfiles/bundle/Vundle.vim/
    let path='$VIM/vimfiles/bundle'
    "vimfilesæ–‡ä»¶å¤¹åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹
    "set rtp+=~/vimfiles/bundle/Vundle.vim/
    "let path='~/vimfiles/bundle'
    call vundle#begin(path)
endif

" let Vundle manage Vundle, required
Plugin 'VundleVim/Vundle.vim'

"***************** Vim Plugin ************************

" Automated tag file generation and syntax highlighting of tags
Plugin 'xolox/vim-easytags.git'
Plugin 'xolox/vim-misc.git'

" Auto complete
if g:islinux
    Plugin 'Valloric/YouCompleteMe.git'
    "       Plugin 'rdnetto/YCM-Generator.git'
elseif g:iswindows
    if isdirectory('$VIM/vimfiles/bundle/YouCompleteMe')
        Plugin 'blueyi/YouCompleteMe.git'
    else
        Plugin 'Shougo/neocomplete.vim.git'
    endif
endif
"    if has("win64")
"        Bundle 'snakeleon/YouCompleteMe-x64'
"    elseif has("win32")
"        Bundle 'snakeleon/YouCompleteMe-x86'
"    else
"        Bundle 'Valloric/YouCompleteMe'
"    endif

"Speed up Vim by updating folds only when called-for.
Plugin 'Konfekt/FastFold.git'

" lean & mean status/tabline for vim that's light as air
Plugin 'bling/vim-airline.git'

" insert mode auto-completion for quotes, parens, brackets, etc.
""    Plugin 'Raimondi/delimitMate.git'
Plugin 'jiangmiao/auto-pairs.git'

" Syntax checking hacks for vim
Plugin 'scrooloose/syntastic'

" The ultimate snippet solution for Vim
" Plugin 'SirVer/ultisnips'
Plugin 'honza/vim-snippets'

" Support web develop
" Plugin 'mattn/emmet-vim.git'

" Fuzzy file, buffer, mru, tag, etc finder
Plugin 'kien/ctrlp.vim'

" a Git wrapper so awesome
" å¯¼è‡´windowsä¸‹vimä¸èƒ½æ­£å¸¸è·å–shellæ‰§è¡Œçš„è¿”å›ç»“æœ
"    if g:islinux
Plugin 'tpope/vim-fugitive'
"    endif

" displays tags in a window, ordered by scope
Plugin 'majutsushi/tagbar'

" Markdown support
Plugin 'godlygeek/tabular'
Plugin 'plasticboy/vim-markdown'

"intensely orgasmic commenting
Plugin 'scrooloose/nerdcommenter'

" visualize your Vim undo tree
Plugin 'sjl/gundo.vim'

"quoting/parenthesizing made simple use cs/ds
Plugin 'tpope/vim-surround'

"automatically adjusts 'shiftwidth' and 'expandtab' heuristically based on the current file
Plugin 'tpope/vim-sleuth'

"Open URI with your favorite browser from your most favorite editor
"Plugin 'tyru/open-browser.vim'

"Alternate Files quickly (.c --> .h etc)
Plugin 'blueyi/a.vim'

"A vim plugin to display the indention levels with thin vertical lines
Plugin 'Yggdroot/indentLine'

"A tree explorer plugin for vim.
Plugin 'scrooloose/nerdtree'

"Vim python-mode. PyLint, Rope, Pydoc, breakpoints from box.
Plugin 'klen/python-mode.git'

"Simple templates plugin for Vim
Plugin 'blueyi/vim-template'

" other misc for vim running eg: ycm_extra_conf.py
Plugin 'blueyi/vim-dep'

"********************************************
" Color schemes
Plugin 'blueyi/myvimcolors'
Plugin 'tomasr/molokai'
Plugin 'flazz/vim-colorschemes'
"********************************************


" All of your Plugins must be added before the following line
call vundle#end()            " required
" Brief help
" :PluginList       - lists configured plugins
" :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate
" :PluginSearch foo - searches for foo; append `!` to refresh local cache
" :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal
"
" see :h vundle for more details or wiki for FAQ
" Put your non-Plugin stuff after this line

"***************** Vim Configure ************************

"-- Chinese encoding support --
" æ³¨ï¼šä½¿ç”¨utf-8æ ¼å¼åï¼Œè½¯ä»¶ä¸ç¨‹åºæºç ã€æ–‡ä»¶è·¯å¾„ä¸èƒ½æœ‰ä¸­æ–‡ï¼Œå¦åˆ™æŠ¥é”™
set encoding=utf-8                                    "è®¾ç½®gvimå†…éƒ¨ç¼–ç 
"set fileencoding=utf-8                                "è®¾ç½®å½“å‰æ–‡ä»¶ç¼–ç 
"è®¾ç½®æ”¯æŒæ‰“å¼€çš„æ–‡ä»¶çš„ç¼–ç 
set fileencodings=cs-bom,utf-8,cp936,gb2312,gb18030,big5,euc-jp,euc-kr,latin1,utf-16

"--fileformatï¼Œé»˜è®¤ ffs=dos,unix--
set fileformat=unix                                   "è®¾ç½®æ–°æ–‡ä»¶çš„<EOL>æ ¼å¼
set fileformats=unix,dos,mac                          "ç»™å‡ºæ–‡ä»¶çš„<EOL>æ ¼å¼ç±»å‹

if (g:iswindows && g:isGUI)
    "è§£å†³èœå•ä¹±ç 
    source $VIMRUNTIME/delmenu.vim
    source $VIMRUNTIME/menu.vim

    "è§£å†³consleè¾“å‡ºä¹±ç 
    "language messages zh_CN.utf-8
    let $LANG='en' "set messages language
    set langmenu=en "set menu's language of gvim
endif

"--åŸºæœ¬è®¾ç½®--
filetype plugin on        "é’ˆå¯¹ä¸åŒçš„æ–‡ä»¶ç±»å‹åŠ è½½å¯¹åº”çš„æ’ä»¶
filetype plugin indent on               "å¯ç”¨ç¼©è¿›

" æ ¹æ®åç¼€åæŒ‡å®šæ–‡ä»¶ç±»å‹
au BufRead,BufNewFile *.h        set ft=c
au BufRead,BufNewFile *.i        set ft=c
au BufRead,BufNewFile *.m        set ft=objc
au BufRead,BufNewFile *.di       set ft=d
au BufRead,BufNewFile *.ss       set ft=scheme
au BufRead,BufNewFile *.lsp      set ft=newlisp
au BufRead,BufNewFile *.cl       set ft=lisp
au BufRead,BufNewFile *.phpt     set ft=php
au BufRead,BufNewFile *.inc      set ft=php
au BufRead,BufNewFile *.cson     set ft=coffee
au BufRead,BufNewFile *.sql      set ft=mysql
au BufRead,BufNewFile *.tpl      set ft=smarty
au BufRead,BufNewFile *.txt      set ft=txt
au BufRead,BufNewFile *.log      set ft=conf
au BufRead,BufNewFile hosts      set ft=conf
au BufRead,BufNewFile *.conf     set ft=dosini
au BufRead,BufNewFile http*.conf set ft=apache
au BufRead,BufNewFile *.ini      set ft=dosini
au BufRead,BufNewFile *.sass     set ft=sass
au BufRead,BufNewFile *.js       set ft=javascript.jsx
au BufRead,BufNewFile *.html     set ft=html
au BufRead,BufNewFile *.ejs      set ft=html
au BufRead,BufNewFile */nginx/*.conf        set ft=nginx
au BufRead,BufNewFile */nginx/**/*.conf     set ft=nginx
au BufRead,BufNewFile */openresty/*.conf    set ft=nginx
au BufRead,BufNewFile */openresty/**/*.conf set ft=nginx
au BufRead,BufNewFile *.yml.bak      set ft=yaml
au BufRead,BufNewFile *.yml.default  set ft=yaml
au BufRead,BufNewFile *.yml.example  set ft=yaml
au BufRead,BufNewFile CMakeLists.txt set ft=cmake

" Vim5 and later versions support syntax highlighting. Uncommenting the next
" line enables syntax highlighting by default.
if has("syntax")
    syntax on
endif

" åŒ…å«C++å¤´æ–‡ä»¶
if isdirectory('/usr/include/c++/4.8')
    set path+=/usr/include/c++/4.8
endif

" Uncomment the following to have Vim jump to the last position when reopening a file
if has("autocmd")
    au BufReadPost * if line("'\"") > 1 && line("'\"") <= line("$") | exe "normal! g'\"" | endif
endif

"--ç¼©è¿›è®¾ç½®--
set autoindent        " è®¾ç½®è‡ªåŠ¨å¯¹é½(ç¼©è¿›)ï¼šå³æ¯è¡Œçš„ç¼©è¿›å€¼ä¸ä¸Šä¸€è¡Œç›¸ç­‰ï¼›ä½¿ç”¨ noautoindent å–æ¶ˆè®¾ç½®
"set smartindent        " æ™ºèƒ½å¯¹é½æ–¹å¼
set tabstop=4        " è®¾ç½®åˆ¶è¡¨ç¬¦(tabé”®)çš„å®½åº¦
set expandtab            "å°†Tabé”®è½¬æ¢ä¸ºç©ºæ ¼
set softtabstop=4     " è®¾ç½®è½¯åˆ¶è¡¨ç¬¦çš„å®½åº¦
set shiftwidth=4    " (è‡ªåŠ¨) ç¼©è¿›ä½¿ç”¨çš„4ä¸ªç©ºæ ¼
set cindent            " ä½¿ç”¨ C/C++ è¯­è¨€çš„è‡ªåŠ¨ç¼©è¿›æ–¹å¼
set cinoptions={g0,0,1s,t0,p2s,(03s,=.5s,>1s,=1s,:1s     "è®¾ç½®C/C++è¯­è¨€çš„å…·ä½“ç¼©è¿›æ–¹å¼
set smarttab    "ä½¿tabé”®å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡ä¸­çš„tabstop,softtabstop,shiftwidthæ™ºèƒ½è®¾ç½®
set shiftround

"--backup/swap/info/undoæ–‡ä»¶ç›¸å…³è®¾ç½®--
set backup                  "å¼€å¯å¤‡ä»½
set backupdir=~/.vimbak      "è®¾ç½®è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶å¤¹
set backupext=-vimbackup    "è®¾ç½®å¤‡ä»½æ–‡ä»¶çš„åç¼€
set backupskip=             "è®¾ç½®éœ€è¦å¿½ç•¥å¤‡ä»½çš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹help
set directory=~/.vimbak      "è®¾ç½®swapæ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œé»˜è®¤ä¸ºæ–‡ä»¶å½“å‰ç›®å½•
set undodir=~/.vimbak        "è®¾ç½®un~æ–‡ä»¶å¤¹
set undofile                "å¼€å¯undoé€‰é¡¹ï¼Œå³å¯ä»¥è¿›è¡Œå†å²ä¿®æ”¹å›é€€
set updatecount=100         "è®¾ç½®æ¯ä¿®æ”¹100ä¸ªå­—ç¬¦å†™å…¥ä¸€æ¬¡swapæ–‡ä»¶
"set writebackup            "ä¿å­˜æ–‡ä»¶å‰å»ºç«‹å¤‡ä»½ï¼Œä¿å­˜æˆåŠŸååˆ é™¤è¯¥å¤‡ä»½
"set nobackup               "è®¾ç½®æ— å¤‡ä»½æ–‡ä»¶
"set noswapfile             "è®¾ç½®æ— ä¸´æ—¶æ–‡ä»¶

"--å¯¼èˆªç›¸å…³è®¾ç½®--
set cursorline             "çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ
"-çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œå’Œå½“å‰åˆ—-
au WinLeave * set nocursorline nocursorcolumn
au WinEnter * set cursorline cursorcolumn
"set cursorline cursorcolumn

"--ä»£ç æŠ˜å è®¾ç½®--
set foldenable                                        "å¯ç”¨æŠ˜å 
set foldmethod=syntax " ç”¨è¯­æ³•é«˜äº®æ¥å®šä¹‰æŠ˜å 
"set foldmethod=indent                                 "indent æŠ˜å æ–¹å¼
" set foldmethod=marker                                "marker æŠ˜å æ–¹å¼
set foldlevel=100 " å¯åŠ¨vimæ—¶ä¸è¦è‡ªåŠ¨æŠ˜å ä»£ç 
set foldcolumn=5 " è®¾ç½®æŠ˜å æ å®½åº¦
" ç”¨ç©ºæ ¼é”®æ¥å¼€å…³æŠ˜å 
nnoremap <space> @=((foldclosed(line('.')) < 0) ? 'zc' : 'zo')<CR>

"--æœç´¢è®¾ç½®--
set hlsearch        "é«˜äº®æœç´¢
set incsearch       "è¾“å…¥å­—ç¬¦ä¸²å°±æ˜¾ç¤ºåŒ¹é…ç‚¹
set ignorecase      "æœç´¢æ¨¡å¼é‡Œå¿½ç•¥å¤§å°å†™
set smartcase       "å¦‚æœæœç´¢æ¨¡å¼åŒ…å«å¤§å†™å­—ç¬¦ï¼Œä¸ä½¿ç”¨ 'ignorecase' é€‰é¡¹ã€‚åªæœ‰åœ¨è¾“å…¥æœç´¢æ¨¡å¼å¹¶ä¸”æ‰“å¼€ 'ignorecase' é€‰é¡¹æ—¶æ‰ä¼šä½¿ç”¨ã€‚
set mouse=a         "åœ¨ä»»ä½•æ¨¡å¼ä¸‹å¯ç”¨é¼ æ ‡
set scrolloff=4     "å½“å…‰æ ‡ä½äºå±å¹•æœ€ä¸Šæˆ–æœ€ä¸‹é¢æ—¶ä¿æŒå…¶ä¸Šé¢æˆ–ä¸‹é¢æœ‰å¯è§çš„4è¡Œ
set sidescroll=5    "ä¿æŒå·¦å³è‡³å°‘æœ‰5åˆ—
" å®ç°//è¿›è¡Œå¿«é€Ÿæœç´¢é€šè¿‡vé€‰ä¸­çš„å†…å®¹
vnoremap // y/<c-r>"<cr>
" å½“å…‰æ ‡ä¸€æ®µæ—¶é—´ä¿æŒä¸åŠ¨äº†ï¼Œå°±ç¦ç”¨é«˜äº®
autocmd cursorhold * set nohlsearch
" å½“è¾“å…¥æŸ¥æ‰¾å‘½ä»¤æ—¶ï¼Œå†å¯ç”¨é«˜äº®
noremap n :set hlsearch<cr>n
noremap N :set hlsearch<cr>N
noremap / :set hlsearch<cr>/
noremap ? :set hlsearch<cr>?
noremap * *:set hlsearch<cr>"

"--å…¶ä»–è®¾ç½®--
"set autowrite      "ç¦»å¼€å½“å‰ç¼–è¾‘æ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨æŠŠä¿®æ”¹å†…å®¹å†™å…¥æ–‡ä»¶ï¼ˆé»˜è®¤åœ¨bufferä¸­ï¼‰
set noautowrite     "è®¾ç½®é»˜è®¤ä¸å†™å…¥
set noautowriteall  "è¿™æ ·é€€å‡ºæ—¶ä¼šæç¤ºä¿å­˜
set autoread        "å½“æ–‡ä»¶åœ¨å¤–éƒ¨è¢«ä¿®æ”¹ï¼Œè‡ªåŠ¨æ›´æ–°è¯¥æ–‡ä»¶
set backspace=indent,eol,start      " è®¾ç½®é€€æ ¼é”®åœ¨æ’å…¥æ¨¡å¼ä¸‹å¯ä½œç”¨äºè¿™ä¸‰å¤„
" set clipboard=unnamed   "æ‰€æœ‰çš„å¤åˆ¶æ“ä½œéƒ½ä¼šè¦†ç›–"*å¯„å­˜å™¨ï¼Œè¯¥å¤„å­˜æ”¾å¤–éƒ¨ç²˜è´´æ¿å†…å®¹
set hidden          "å…è®¸ä¸ä¿å­˜bufferè€Œåˆ‡æ¢bufferï¼Œæ­¤æ—¶bufferè¢«æš‚å­˜åœ¨å†…å­˜ä¸­
set mousemodel=popup    "è®¾ç½®GUIä¸‹é¼ æ ‡å³é”®æ˜¾ç¤ºèœå•
set history=100        "å†å²è®°å½•æ¡æ•°
set noequalalways   "åˆ†å‰²çª—å£æ—¶ä¸è‡ªåŠ¨å¹³åˆ†å¤§å°
set whichwrap=b,s,<,>,[,] " å…‰æ ‡ä»è¡Œé¦–å’Œè¡Œæœ«æ—¶å¯ä»¥è·³åˆ°å¦ä¸€è¡Œå»

"--ç•Œé¢é…ç½®--
" -----------------------------------------------------------------------------
"--é€šç”¨é…ç½®--
set number          "æ˜¾ç¤ºè¡Œå·
set laststatus=2    "å¯ç”¨çŠ¶æ€æ ä¿¡æ¯
set ruler           "æ ‡å°ºï¼Œç”¨äºæ˜¾ç¤ºå…‰æ ‡ä½ç½®çš„è¡Œå·å’Œåˆ—å·ï¼Œå†’å·åˆ†éš”ã€‚
set cmdheight=2     "è®¾ç½®å‘½ä»¤è¡Œçš„é«˜åº¦ä¸º2ï¼Œé»˜è®¤ä¸º1
set shortmess=atI   "å»æ‰æ¬¢è¿ç•Œé¢
set showmatch       "è®¾ç½®åŒ¹é…æ¨¡å¼ï¼Œæ˜¾ç¤ºåŒ¹é…çš„æ‹¬å·
set showcmd         "å‘½ä»¤è¡Œæ˜¾ç¤ºæœ€åä¸€æ¬¡è¾“å…¥çš„å‘½ä»¤
set showmode        "å‘½ä»¤è¡Œæ˜¾ç¤ºvimå½“å‰æ¨¡å¼
set gcr=a:block-blinkon0            "ç¦æ­¢å…‰æ ‡é—ªçƒo
"    set list listchars=tab:Â»Â·,trail:Â·   "æ˜¾ç¤ºå¤šä½™çš„ç©ºç™½å­—ç¬¦
set list
let &fillchars = "vert:\u2502"
let &listchars = "tab:\u21e5 ,trail:\u2423,extends:\u21c9,precedes:\u21c7,nbsp:\u26ad"
let &showbreak = "\u21aa "
set splitbelow   "split to below ro right
set splitright
" å¯ç”¨æ¯è¡Œè¶…è¿‡80åˆ—çš„å­—ç¬¦æç¤ºï¼ˆå­—ä½“å˜è“å¹¶åŠ ä¸‹åˆ’çº¿ï¼‰
au BufWinEnter * let w:m2=matchadd('Underlined', '\%>' . 80 . 'v.\+', -1)
" set guifont=YaHei_Consolas_Hybrid:h11  "è®¾ç½®å­—ä½“:å­—å·ï¼ˆå­—ä½“åç§°ç©ºæ ¼ç”¨ä¸‹åˆ’çº¿ä»£æ›¿ï¼‰

"--GUIé…ç½®--
" è®¾ç½® gVim çª—å£åˆå§‹ä½ç½®åŠå¤§å°
if g:isGUI
    " au GUIEnter * simalt ~x                           "çª—å£å¯åŠ¨æ—¶è‡ªåŠ¨æœ€å¤§åŒ–
    winpos 100 10                                     "æŒ‡å®šçª—å£å‡ºç°çš„ä½ç½®ï¼Œåæ ‡åŸç‚¹åœ¨å±å¹•å·¦ä¸Šè§’
    set lines=38 columns=100                          "æŒ‡å®šçª—å£å¤§å°ï¼Œlinesä¸ºé«˜åº¦ï¼Œcolumnsä¸ºå®½åº¦
endif
"
"è®¾ç½®é…è‰²æ–¹æ¡ˆ
" set t_Co=256
if g:isGUI
    " colorscheme Tomorrow-Night-Eighties               "Gvimé…è‰²æ–¹æ¡ˆ
    colorscheme molokai
    " colorscheme solarized
else
    " colorscheme Tomorrow-Night-Eighties               "ç»ˆç«¯é…è‰²æ–¹æ¡ˆ
    colorscheme molokai
endif

" æ˜¾ç¤º/éšè—èœå•æ ã€å·¥å…·æ ã€æ»šåŠ¨æ¡ï¼Œå¯ç”¨ Ctrl + F11 åˆ‡æ¢
if g:isGUI
    set guioptions-=m
    set guioptions-=T
    set guioptions-=r
    set guioptions-=L
    map <silent> <c-F11> :if &guioptions =~# 'm' <Bar>
                \set guioptions-=m <Bar>
                \set guioptions-=T <Bar>
                \set guioptions-=r <Bar>
                \set guioptions-=L <Bar>
                \else <Bar>
                \set guioptions+=m <Bar>
                \set guioptions+=T <Bar>
                \set guioptions+=r <Bar>
                \set guioptions+=L <Bar>
                \endif<CR>
endif

"--å…¶ä»–è®¾ç½®--
" -----------------------------------------------------------------------------
set wrap            "è®¾ç½®ä¸è‡ªåŠ¨æ¢è¡Œ
set linebreak       " æ•´è¯æ¢è¡Œ
"set previewwindow    " æ ‡è¯†é¢„è§ˆçª—å£

"--å¿«æ·é”®è®¾ç½®--
" -----------------------------------------------------------------------------
let mapleader = ';'  "å°†åæ–œæ‰›\æ˜ å°„ä¸º;

" æ‰“å¼€vimrcé…ç½®æ–‡ä»¶
nnoremap <leader>ev :vsplit $MYVIMRC<cr>
" é‡æ–°è½½å…¥vimrcé…ç½®æ–‡ä»¶
nnoremap <leader>rv :source $MYVIMRC<cr>

" F7ç”¨äºæ§åˆ¶æ˜¯å¦ä¸ºç²˜è´´æ¨¡å¼
nnoremap <F7> :set invpaste paste?<CR>
imap <F7> <C-O>:set invpaste paste?<CR>
set pastetoggle=<F7>

" æ˜ å°„ç³»ç»Ÿç²˜è´´æ¿
map <leader>p "+p
map <leader>y "+y
" å¿«é€Ÿä¿å­˜
nmap <leader>w :w!<cr>

" å¸¸è§„æ¨¡å¼ä¸‹è¾“å…¥;cS æ¸…é™¤æ•´ä¸ªæ–‡ä»¶è¡Œå°¾ç©ºæ ¼ï¼Œä¼šæç¤ºç¡®è®¤
nmap ;cS :%s/\s\+$//gc<CR>:noh<CR>
" å¸¸è§„æ¨¡å¼ä¸‹è¾“å…¥;cSl æ¸…é™¤å½“å‰è¡Œå°¾ç©ºæ ¼
nmap ;cSl :s/\s\+$//<CR>:noh<CR>

" å¸¸è§„æ¨¡å¼ä¸‹è¾“å…¥;cM æ¸…é™¤è¡Œå°¾ ^M ç¬¦å·
nmap ;cM :%s/\r$//gc<CR>:noh<CR>
" å¸¸è§„æ¨¡å¼ä¸‹è¾“å…¥;cMl æ¸…é™¤å½“å‰è¡Œå°¾ ^M ç¬¦å·
nmap ;cMl :s/\r$//<CR>:noh<CR>
" ==debug==
" ,rb                 ä¸€é”®å»é™¤å…¨éƒ¨å°¾éƒ¨ç©ºç™½
" imap <leader>rb <esc>:let _s=@/<bar>:%s/\s\+$//e<bar>:let @/=_s<bar>:nohl<cr>
" nmap <leader>rb :let _s=@/<bar>:%s/\s\+$//e<bar>:let @/=_s<bar>:nohl<cr>
" vmap <leader>rb <esc>:let _s=@/<bar>:%s/\s\+$//e<bar>:let @/=_s<bar>:nohl<cr>
" 
" " ,rm                 ä¸€é”®å»é™¤å…¨éƒ¨ ^M å­—ç¬¦
" imap <leader>rm <esc>:%s/<c-v><c-m>//g<cr>
" nmap <leader>rm :%s/<c-v><c-m>//g<cr>
" vmap <leader>rm <esc>:%s/<c-v><c-m>//g<cr>
" 
" " ,rt                 ä¸€é”®æ›¿æ¢å…¨éƒ¨ Tab ä¸ºç©ºæ ¼
" nmap <leader>rt <esc>:retab<cr>
" 
" " ,ra                 ä¸€é”®æ¸…ç†å½“å‰ä»£ç æ–‡ä»¶
" nmap <leader>ra <esc>\rt<esc>\rb<esc>gg=G<esc>gg<esc>

"æ ‡ç­¾çª—å£ä¸´æ—¶æœ€å¤§åŒ–
function! Zoom ()
    " check if is the zoomed state (tabnumber > 1 && window == 1)
    if tabpagenr('$') > 1 && tabpagewinnr(tabpagenr(), '$') == 1
        let l:cur_winview = winsaveview()
        let l:cur_bufname = bufname('')
        tabclose

        " restore the view
        if l:cur_bufname == bufname('')
            call winrestview(cur_winview)
        endif
    else
        tab split
    endif
endfunction

"<leader>æ˜¯åæ–œæ‰›\
nmap <leader>z :call Zoom()<CR>

" åœ¨ä¸ä½¿ç”¨ MiniBufExplorer æ’ä»¶æ—¶ä¹Ÿå¯ç”¨<C-k,j,h,l>åˆ‡æ¢åˆ°ä¸Šä¸‹å·¦å³çš„çª—å£ä¸­å»
"split navigations
nnoremap <C-J> <C-W><C-J>
nnoremap <C-K> <C-W><C-K>
nnoremap <C-L> <C-W><C-L>
nnoremap <C-H> <C-W><C-H>

"å¸¸è§„æ¨¡å¼ä¸‹è¾“å…¥F2è°ƒç”¨nerdtreeæ’ä»¶
nmap <F2> :NERDTreeToggle<CR>

"F3è°ƒç”¨Tagbaræ’ä»¶
nmap <F3> :TagbarToggle<CR>

"F4è°ƒç”¨Gundoæ’ä»¶
nnoremap <F4> :GundoToggle<CR>

"-- Compile single program --
autocmd filetype c nnoremap <F9> :call Run_c() <CR>
autocmd filetype c imap <F9> <ESC> :call Run_c() <CR>

autocmd filetype cpp nnoremap <F9> :call Run_cpp() <CR>
autocmd filetype cpp imap <F9> <ESC> :call Run_cpp() <CR>

autocmd filetype python nnoremap <F9> :call Run_py() <CR>
autocmd filetype python imap <F9> <ESC> :call Run_py() <CR>

autocmd filetype ruby nnoremap <F9> :call Run_ruby() <CR>
autocmd filetype ruby imap <F9> <ESC> :call Run_ruby() <CR>

autocmd filetype java nnoremap <F9> :call Run_java() <CR>
autocmd filetype java imap <F9> <ESC> :call Run_java() <CR>

autocmd filetype cuda nnoremap <F9> :call Run_cuda() <CR>
autocmd filetype cuda imap <F9> <ESC> :call Run_cuda() <CR>

autocmd filetype cs nnoremap <F9> :call Run_cs() <CR>
autocmd filetype cs imap <F9> <ESC> :call Run_cs() <CR>

autocmd filetype sh nnoremap <F9> :call Run_sh() <CR>
autocmd filetype sh imap <F9> <ESC> :call Run_sh() <CR>

"-- For java development setting --
func! Run_java()
    exe ":ccl"
    exe ":update"
    if g:iswindows
        exe ':!javac %'
    else
        exe ':!javac %'
    endif
    if v:shell_error == 0
        if g:iswindows
            exe ":!java -cp . %<"
        else
            exe ":!java -cp . %<"
        endif
    endif
endfunc

"-- For CUDA development setting --
" compile, link and execute .cu file with Samples header file
func! Run_cuda()
    exe ":ccl"
    exe ":update"
    if g:iswindows
        exe ':!nvcc --ptxas-options=-v % -I "C:\ProgramData\NVIDIA Corporation\CUDA Samples\v7.5\common\inc" -o %<.exe'
    else
        exe ':!nvcc --ptxas-options=-v % -I "/usr/local/cuda-8.0/samples/common/inc" -o %<.o'
    endif
    if v:shell_error == 0
        if g:iswindows
            exe ":!%<.exe"
        else
            exe ":!./%<.o"
        endif
    endif
endfunc

"-- For python development setting --
func! Run_py()
    exe ":ccl"
    exe ":update"
    exe ":!python %"
endfunc

"-- For shell development setting --
func! Run_sh()
    exe ":ccl"
    exe ":update"
    exe ":!bash %"
endfunc


"enable python PEP8
au BufNewFile,BufRead *.py
            \ set tabstop=4 |
            \ set softtabstop=4 |
            \ set shiftwidth=4 |
            \ set textwidth=79 |
            \ set expandtab |
            \ set autoindent |
            \ set fileformat=unix |
"-- For web development setting --
au BufNewFile,BufRead *.js,*.html,*.css
            \ set tabstop=2 |
            \ set softtabstop=2 |
            \ set shiftwidth=2 |
let python_highlight_all = 1

"-- For ruby development setting --
func! Run_ruby()
    exe ":ccl"
    exe ":update"
    exe ":!ruby -w %"
endfunc

"autocmd FileType ruby,eruby let g:rubycomplete_buffer_loading = 1
"autocmd FileType ruby,eruby let g:rubycomplete_classes_in_global = 1
"autocmd FileType ruby,eruby let g:rubycomplete_rails = 1

"--For C/C++ setting--
func! Run_c()
    exe ":ccl"
    exe ":update"
    if g:iswindows
        exe ':!gcc -fexec-charset=gbk -Wall -g -O0 % -o %<.exe'
    else
        exe ':!gcc -Wall -g -O0 % -o %<.o'
    endif
    if v:shell_error == 0
        if g:iswindows
            exe ":!%<.exe"
        else
            exe ":!./%<.o"
        endif
    endif
endfunc
func! Run_cpp()
    exe ":ccl"
    exe ":update"
    if g:iswindows
        exe ':!g++ -fexec-charset=gbk -Wall -std=gnu++11 -g -O0 % -o %<.exe'
    else
        exe ':!g++ -Wall -std=gnu++11 -g -O0 % -o %<.o'
    endif
    if v:shell_error == 0
        if g:iswindows
            exe ":!%<.exe"
        else
            exe ":!./%<.o"
        endif
    endif
endfunc

"-- For c# development setting --
func! Run_cs()
    exe ":ccl"
    exe ":update"
    exe ":!csc %"
endfunc

"ä½¿ç”¨makeç¼–è¯‘
"-- QuickFix setting --
" æŒ‰ä¸‹F6ï¼Œæ‰§è¡Œmake clean
" map <F6> :make clean<CR><CR><CR>
" æŒ‰ä¸‹F7ï¼Œæ‰§è¡Œmakeç¼–è¯‘ç¨‹åºï¼Œå¹¶æ‰“å¼€quickfixçª—å£ï¼Œæ˜¾ç¤ºç¼–è¯‘ä¿¡æ¯
" map <F7> :make<CR><CR><CR> :copen<CR><CR>
" æŒ‰ä¸‹F8ï¼Œå…‰æ ‡ç§»åˆ°ä¸Šä¸€ä¸ªé”™è¯¯æ‰€åœ¨çš„è¡Œ
" map <F8> :cp<CR>
" æŒ‰ä¸‹F9ï¼Œå…‰æ ‡ç§»åˆ°ä¸‹ä¸€ä¸ªé”™è¯¯æ‰€åœ¨çš„è¡Œ
" map <F9> :cn<CR>
" ä»¥ä¸‹çš„æ˜ å°„æ˜¯ä½¿ä¸Šé¢çš„å¿«æ·é”®åœ¨æ’å…¥æ¨¡å¼ä¸‹ä¹Ÿèƒ½ç”¨
" imap <F6> <ESC>:make clean<CR><CR><CR>
" imap <F7> <ESC>:make<CR><CR><CR> :copen<CR><CR>
" imap <F8> <ESC>:cp<CR>
" imap <F9> <ESC>:cn<CR>

"-- For ruby development setting --
" install rsense
"let g:rsenseHome = "/home/blueyi/opt/rsense-0.3"
"If you want to start completion automatically, add the following code to .vimrc and restart Vim.
"let g:rsenseUseOmniFunc = 1

" F9 run ruby
"map <F9> :!ruby -w % <CR>
"imap <F9> <ESC>:!ruby -w % <CR>
" F8 check ruby syntax only
"map <F8> :w !ruby -c % <CR>
"imap <F8> <ESC>:w !ruby -c % <CR>

"autocmd FileType ruby,eruby let g:rubycomplete_buffer_loading = 1
"autocmd FileType ruby,eruby let g:rubycomplete_classes_in_global = 1
"autocmd FileType ruby,eruby let g:rubycomplete_rails = 1


"--------Plugin setting start------------

"***************
"--neocomplete configure--
"Note: This option must set it in .vimrc(_vimrc).  NOT IN .gvimrc(_gvimrc)!
" Disable AutoComplPop.
let g:acp_enableAtStartup = 0
" Use neocomplete.
let g:neocomplete#enable_at_startup = 1
" Use smartcase.
let g:neocomplete#enable_smart_case = 1
" Set minimum syntax keyword length.
let g:neocomplete#sources#syntax#min_keyword_length = 3
let g:neocomplete#lock_buffer_name_pattern = '\*ku\*'

" Define dictionary.
let g:neocomplete#sources#dictionary#dictionaries = {
            \ 'default' : '',
            \ 'vimshell' : $HOME.'/.vimshell_hist',
            \ 'scheme' : $HOME.'/.gosh_completions'
            \ }

" Define keyword.
if !exists('g:neocomplete#keyword_patterns')
    let g:neocomplete#keyword_patterns = {}
endif
let g:neocomplete#keyword_patterns['default'] = '\h\w*'

" Plugin key-mappings.
inoremap <expr><C-g>     neocomplete#undo_completion()
inoremap <expr><C-l>     neocomplete#complete_common_string()

" Recommended key-mappings.
" <CR>: close popup and save indent.
""    inoremap <silent> <CR> <C-r>=<SID>my_cr_function()<CR>
""    function! s:my_cr_function()
""        return neocomplete#close_popup() . "\<CR>"
""        " For no inserting <CR> key.
""        "return pumvisible() ? neocomplete#close_popup() : "\<CR>"
""    endfunction
" <TAB>: completion.
inoremap <expr><TAB>  pumvisible() ? "\<C-n>" : "\<TAB>"
" <C-h>, <BS>: close popup and delete backword char.
inoremap <expr><C-h> neocomplete#smart_close_popup()."\<C-h>"
"    inoremap <expr><BS> neocomplete#smart_close_popup()."\<C-h>"
inoremap <expr><C-y>  neocomplete#close_popup()
inoremap <expr><C-e>  neocomplete#cancel_popup()
" Close popup by <Space>.
"inoremap <expr><Space> pumvisible() ? neocomplete#close_popup() : "\<Space>"

" For cursor moving in insert mode(Not recommended)
"inoremap <expr><Left>  neocomplete#close_popup() . "\<Left>"
"inoremap <expr><Right> neocomplete#close_popup() . "\<Right>"
"inoremap <expr><Up>    neocomplete#close_popup() . "\<Up>"
"inoremap <expr><Down>  neocomplete#close_popup() . "\<Down>"
" Or set this.
"let g:neocomplete#enable_cursor_hold_i = 1
" Or set this.
"let g:neocomplete#enable_insert_char_pre = 1

" AutoComplPop like behavior.
"let g:neocomplete#enable_auto_select = 1

" Shell like behavior(not recommended).
"set completeopt+=longest
"let g:neocomplete#enable_auto_select = 1
"let g:neocomplete#disable_auto_complete = 1
"inoremap <expr><TAB>  pumvisible() ? "\<Down>" : "\<C-x>\<C-u>"

" Enable omni completion.
autocmd FileType css setlocal omnifunc=csscomplete#CompleteCSS
autocmd FileType html,markdown setlocal omnifunc=htmlcomplete#CompleteTags
autocmd FileType javascript setlocal omnifunc=javascriptcomplete#CompleteJS
autocmd FileType python setlocal omnifunc=pythoncomplete#Complete
autocmd FileType xml setlocal omnifunc=xmlcomplete#CompleteTags

" Enable heavy omni completion.
if !exists('g:neocomplete#sources#omni#input_patterns')
    let g:neocomplete#sources#omni#input_patterns = {}
endif
"let g:neocomplete#sources#omni#input_patterns.php = '[^. \t]->\h\w*\|\h\w*::'
"let g:neocomplete#sources#omni#input_patterns.c = '[^.[:digit:] *\t]\%(\.\|->\)'
"let g:neocomplete#sources#omni#input_patterns.cpp = '[^.[:digit:] *\t]\%(\.\|->\)\|\h\w*::'

" For perlomni.vim setting.
" https://github.com/c9s/perlomni.vim
let g:neocomplete#sources#omni#input_patterns.perl = '\h\w*->\h\w*\|\h\w*::'


"***************
"--Youcompleteme configure--
"Recompile and diagnostics withe F5
"    nnoremap <F5> :YcmForceCompileAndDiagnostics<CR>
" let g:ycm_use_ultisnips_completer = 1

if g:islinux
    let g:ycm_global_ycm_extra_conf = '~/.vim/bundle/vim-dep/ycm_extra_conf.py'
    let g:ycm_path_to_python_interpreter = '/usr/bin/python'
else
    let g:ycm_global_ycm_extra_conf = $VIM.'/vimfiles/bundle/vim-dep/ycm_extra_conf.py'
    let g:ycm_path_to_python_interpreter = 'C:\Python27\python.exe'
endif
" è®¾ç½®è½¬åˆ°å®šä¹‰å¤„çš„å¿«æ·é”®ä¸ºALT + Gï¼Œè¿™ä¸ªåŠŸèƒ½éå¸¸èµ
nmap <M-g> :YcmCompleter GoToDefinitionElseDeclaration <C-R>=expand("<cword>")<CR><CR>
" è¡¥å…¨åŠŸèƒ½åœ¨æ³¨é‡Šä¸­åŒæ ·æœ‰æ•ˆ
let g:ycm_complete_in_comments  = 1
let g:ycm_confirm_extra_conf    = 0

let g:ycm_extra_conf_vim_data   = ['&filetype']
let g:ycm_filetype_blacklist = { 'help': 1 }

" å…³é—­youcompletemeçš„è¯­æ³•æ£€æŸ¥ï¼Œè€Œæ˜¯ä½¿ç”¨syntasticè¿›è¡Œè¯­æ³•æ£€æŸ¥
let g:ycm_show_diagnostics_ui = 0

" å¼€å¯æ ‡ç­¾è¡¥å…¨
let g:ycm_collect_identifiers_from_tags_files = 1
" ä»ç¬¬ä¸€ä¸ªé”®å…¥å­—ç¬¦å°±å¼€å§‹ç½—åˆ—åŒ¹é…é¡¹
let g:ycm_min_num_of_chars_for_completion=1
"ç¦»å¼€æ’å…¥æ¨¡å¼åè‡ªåŠ¨å…³é—­é¢„è§ˆçª—å£
"autocmd InsertLeave * if pumvisible() == 0|pclose|endif
" ç¦æ­¢ç¼“å­˜åŒ¹é…é¡¹ï¼Œæ¯æ¬¡éƒ½é‡æ–°ç”ŸæˆåŒ¹é…é¡¹
let g:ycm_cache_omnifunc=0
" è¯­æ³•å…³é”®å­—è¡¥å…¨
let g:ycm_seed_identifiers_with_syntax=1
" ä¿®æ”¹å¯¹Cå‡½æ•°çš„è¡¥å…¨å¿«æ·é”®ï¼Œé»˜è®¤æ˜¯CTRL + spaceï¼Œä¿®æ”¹ä¸ºALT + ;
let g:ycm_key_invoke_completion = '<M-;>'
"å›è½¦å³é€‰ä¸­å½“å‰é¡¹
inoremap <expr> <CR>       pumvisible() ? "\<C-y>" : "\<CR>"

"***************
"--vim-airline configure--
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#left_sep = ' '
let g:airline#extensions#tabline#left_alt_sep = '|'
let g:airline_powerline_fonts = 0

"***************
"--Syntastic configure--
"å¼ºåˆ¶ä½¿ç”¨F5è¿›è¡Œè¯­æ³•æ£€æŸ¥
nnoremap <F5> :SyntasticCheck<CR>
set statusline+=%#warningmsg#
set statusline+=%{SyntasticStatuslineFlag()}
set statusline+=%*

let g:syntastic_always_populate_loc_list = 1
let g:syntastic_loc_list_height = 5
let g:syntastic_auto_loc_list = 0
let g:syntastic_check_on_open = 1
let g:syntastic_check_on_wq = 1
"   let g:syntastic_javascript_checkers = ['eslint']
"   let g:syntastic_python_python_exec = 'C:\Python35\python.exe'

"    let g:syntastic_error_symbol = 'âŒ'
"    let g:syntastic_style_error_symbol = 'â‰ï¸'
"    let g:syntastic_warning_symbol = 'âš ï¸'
"    let g:syntastic_style_warning_symbol = 'ğŸ’©'

highlight link SyntasticErrorSign SignColumn
highlight link SyntasticWarningSign SignColumn
highlight link SyntasticStyleErrorSign SignColumn
highlight link SyntasticStyleWarningSign SignColumn
"é»˜è®¤ä½¿ç”¨g++
let g:syntastic_cpp_compiler_options = ' -std=c++11'
"å¿½ç•¥æ£€æŸ¥çš„æ–‡ä»¶
let g:syntastic_mode_map = {
            \ "mode": "active",
            \ "active_filetypes": ["c", "cpp", "py"],
            \ "passive_filetypes": ["java"]}
"å¦‚æœä½¿ç”¨clang++åˆ™éœ€è¦ä»¥ä¸‹
"let g:syntastic_cpp_compiler = 'clang++'
"let g:syntastic_cpp_compiler_options = ' -std=c++11 -stdlib=libc++'
" support html5
"let g:syntastic_html_tidy_exec = 'tidy5'

"***************
"--UltiSnips configure--
" Trigger configuration. Do not use <tab> if you use https://github.com/Valloric/YouCompleteMe.
let g:UltiSnipsExpandTrigger="<tab>"
let g:UltiSnipsJumpForwardTrigger="<c-b>"
let g:UltiSnipsJumpBackwardTrigger="<c-z>"
" If you want :UltiSnipsEdit to split your window.
let g:UltiSnipsEditSplit="vertical"

"***************
"--matchit configure--
let b:match_words='\<begin\>:\<end\>'
let b:match_ignorecase = 1

"***************
"--emmet configure--
"let g:user_emmet_mode='n'    "only enable normal mode functions.
"let g:user_emmet_mode='inv'  "enable all functions, which is equal to
"let g:user_emmet_mode='a'    "enable all function in all mode.
"Enable just for html/css
"let g:user_emmet_install_global = 0
"autocmd FileType html,css EmmetInstall

"***************
"--ctrlp configure--
let g:ctrlp_map = '<c-p>'
let g:ctrlp_cmd = 'CtrlP'

"***************
"--tagbar configure--
let g:tagbar_autofocus = 1

"***************
"--vim-markdown configure--
let g:vim_markdown_folding_disabled=1
let g:vim_markdown_conceal = 0


"***************
"--gundo configure--
let g:gundo_width = 60
let g:gundo_preview_height = 40
let g:gundo_right = 1

"***************
"    "--open-browser configure--
"    nmap gx <Plug>(openbrowser-smart-search)
"    vmap gx <Plug>(openbrowser-smart-search)
"    " Open URI under cursor.
"    nmap ob <Plug>(openbrowser-open)
"    " Open selected URI.
"    vmap ob <Plug>(openbrowser-open)
"    " Search word under cursor.
"    nmap ob <Plug>(openbrowser-search)
"    " Search selected word.
"    vmap ob <Plug>(openbrowser-search)
"    " If it looks like URI, Open URI under cursor.
"    " Otherwise, Search word under cursor.
"    nmap ob <Plug>(openbrowser-smart-search)
"    " If it looks like URI, Open selected URI.
"    " Otherwise, Search selected word.
"    vmap ob <Plug>(openbrowser-smart-search)
" In command-line
" :OpenBrowser http://google.com/
" :OpenBrowserSearch ggrks
" :OpenBrowserSmartSearch http://google.com/
" :OpenBrowserSmartSearch ggrks


"***************
"-- a.vim æ’ä»¶é…ç½®--
" ç”¨äºåˆ‡æ¢C/C++å¤´æ–‡ä»¶
" :A     ---åˆ‡æ¢å¤´æ–‡ä»¶å¹¶ç‹¬å æ•´ä¸ªçª—å£
" :AV    ---åˆ‡æ¢å¤´æ–‡ä»¶å¹¶å‚ç›´åˆ†å‰²çª—å£
" :AS    ---åˆ‡æ¢å¤´æ–‡ä»¶å¹¶æ°´å¹³åˆ†å‰²çª—å£

"***************
" -- indentLine configure--
if g:isGUI
    let g:indentLine_char = 'â”Š'
    let g:indentLine_color_gui = '#A4E57E'
endif

" è®¾ç½®ç»ˆç«¯å¯¹é½çº¿é¢œè‰²ï¼Œå¦‚æœä¸å–œæ¬¢å¯ä»¥å°†å…¶æ³¨é‡Šæ‰é‡‡ç”¨é»˜è®¤é¢œè‰²
let g:indentLine_color_term = 239

" è®¾ç½® GUI å¯¹é½çº¿é¢œè‰²ï¼Œå¦‚æœä¸å–œæ¬¢å¯ä»¥å°†å…¶æ³¨é‡Šæ‰é‡‡ç”¨é»˜è®¤é¢œè‰²


"***************
"--nerdtree configure--

"***************
" --nerdcommenter configure--
" -----------------------------------------------------------------------------
" æˆ‘ä¸»è¦ç”¨äºC/C++ä»£ç æ³¨é‡Š(å…¶å®ƒçš„ä¹Ÿè¡Œ)
" ä»¥ä¸‹ä¸ºæ’ä»¶é»˜è®¤å¿«æ·é”®ï¼Œå…¶ä¸­çš„è¯´æ˜æ˜¯ä»¥C/C++ä¸ºä¾‹çš„ï¼Œå…¶å®ƒè¯­è¨€ç±»ä¼¼
" <Leader>ci ä»¥æ¯è¡Œä¸€ä¸ª /* */ æ³¨é‡Šé€‰ä¸­è¡Œ(é€‰ä¸­åŒºåŸŸæ‰€åœ¨è¡Œ)ï¼Œå†è¾“å…¥åˆ™å–æ¶ˆæ³¨é‡Š
" <Leader>cm ä»¥ä¸€ä¸ª /* */ æ³¨é‡Šé€‰ä¸­è¡Œ(é€‰ä¸­åŒºåŸŸæ‰€åœ¨è¡Œ)ï¼Œå†è¾“å…¥åˆ™ç§°é‡å¤æ³¨é‡Š
" <Leader>cc ä»¥æ¯è¡Œä¸€ä¸ª /* */ æ³¨é‡Šé€‰ä¸­è¡Œæˆ–åŒºåŸŸï¼Œå†è¾“å…¥åˆ™ç§°é‡å¤æ³¨é‡Š
" <Leader>cu å–æ¶ˆé€‰ä¸­åŒºåŸŸ(è¡Œ)çš„æ³¨é‡Šï¼Œé€‰ä¸­åŒºåŸŸ(è¡Œ)å†…è‡³å°‘æœ‰ä¸€ä¸ª /* */
" <Leader>ca åœ¨/*...*/ä¸//è¿™ä¸¤ç§æ³¨é‡Šæ–¹å¼ä¸­åˆ‡æ¢ï¼ˆå…¶å®ƒè¯­è¨€å¯èƒ½ä¸ä¸€æ ·äº†ï¼‰
" <Leader>cA è¡Œå°¾æ³¨é‡Š
let NERDSpaceDelims = 1                     "åœ¨å·¦æ³¨é‡Šç¬¦ä¹‹åï¼Œå³æ³¨é‡Šç¬¦ä¹‹å‰ç•™æœ‰ç©ºæ ¼


"***************
" --vim-template configure--
" -----------------------------------------------------------------------------
"   let g:templates_plugin_loaded = 1 to skip loading of this plugin.
"   let g:templates_no_autocmd = 1 to disable automatic insertion of template in new files.
"   let g:templates_directory = '/path/to/directory' to specify a directory from where to search for additional global templates. See template search order below for more details. This can also be a list of paths.
"    let g:templates_name_prefix = '.vimtemplate.' to change the name of the template files that are searched.
"    let g:templates_global_name_prefix = 'template:' to change the prefix of the templates in the global template directory.
"    let g:templates_debug = 1 to have vim-template output debug information
"    let g:templates_fuzzy_start = 1 to be able to name templates with implicit fuzzy matching at the start of a template name. For example a template file named template:.c would match test.cpp.
"    let g:templates_tr_in = [ '.', '_', '?' ] and let g:templates_tr_out = [ '\.', '.*', '\?' ] would allow you to change how template names are interpretted as regular expressions for matching file names. This might be helpful if hacking on a windows box where * is not allowed in file names. The above configuration, for example, treates underscores _ as the typical regex wildcard .*.
"    let g:templates_no_builtin_templates = 1 to disable usage of the built-in templates. See template search order below for more details.
"    let g:templates_user_variables = [[USERVAR, UserFunc]] to enable user-defined variable expanding. See User-defined variable expanding below for details.

"***************
" --delimitMate configure--
" -----------------------------------------------------------------------------
""    let g:delimitMate_autoclose = 1
""    let g:delimitMate_matchpairs = "(:),[:],{:},<:>"
""    au FileType cpp,md let b:delimitMate_matchpairs = "(:),[:],{:}"
""
""    "æ¢è¡Œè‡ªåŠ¨ç¼©è¿›
""    let g:delimitMate_expand_cr = 1
""    "ä»…é’ˆå¯¹cppå’Œcæ–‡ä»¶ç”Ÿæ•ˆ
""    "au FileType cpp,c let b:delimitMate_expand_cr = 1
""    let g:delimitMate_jump_expansion = 1
""    let g:delimitMate_expand_space = 1
""    let g:delimitMate_expand_inside_quotes = 1
""    let g:delimitMate_balance_matchpairs = 1

" --auto-pairs configure--
" -----------------------------------------------------------------------------
let g:AutoPairs = {'ã€Š':'ã€‹', 'â€œ':'â€', 'ï¼ˆ':'ï¼‰', '(':')', '[':']', '{':'}',"'":"'",'"':'"', '`':'`'}


" --easytags configure--
let g:easytags_file = '~/.vimbak/tags'

"--python-mode configure--
let g:pymode_rope_complete_on_dot = 0  " disable python-mode complete

"--------Plugin setting end------------

"--å…¶ä»–é…ç½®--
" -----------------------------------------------------------------------------
"ctagså·¥å…·é…ç½® >
" -----------------------------------------------------------------------------
" å¯¹æµè§ˆä»£ç éå¸¸çš„æ–¹ä¾¿,å¯ä»¥åœ¨å‡½æ•°,å˜é‡ä¹‹é—´è·³è½¬ç­‰
set tags=./tags,tags;$HOME
set tags+=~/.vimbak/tags
"set tags+=./addtags/qt5_h
"set tags+=./addtags/cpp_stl
"set tags+=./addtags/qt5_cpp

"--å¸¸ç”¨è‡ªåŠ¨å‘½ä»¤é…ç½®--
" -----------------------------------------------------------------------------
"è‡ªåŠ¨åˆ‡æ¢ç›®å½•ä¸ºå½“å‰ç¼–è¾‘æ–‡ä»¶æ‰€åœ¨ç›®å½•
au BufRead,BufNewFile,BufEnter * cd %:p:h

